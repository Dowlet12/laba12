# Отчет по лабораторной работе №12

----

# Тема:
## Программирование в командном процессоре ОС UNIX. Ветвления и циклы

----

## Российский Университет Дружбы Народов

### Факультет Физико-Математических и Естественных Наук

*Дисциплина: Операционные системы*

Студент: Довлетмурат Байрамгельдыев

Группа: НФИбд-03-20

Москва, 2021г.

----

### Цель работы

Изучить основы программирования в оболочке ОС UNIX. Научится писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.


----

### Введение

Ветвление (условная инструкция) - это конструкция языка программирования, обеспечивающая выполнение определённой команды или набора команд только при условии истинности некоторого логического выражения, либо выполнение одной из нескольких команд (наборов команд) в зависимости от значения некоторого выражения.

Цикл — это разновидность управляющей конструкции, предназначенная для организации многократного исполнения набора инструкций.

В основе ветвления и отдельных циклов лежат логические операторы сравнения, определяющие необходимость выполнение следующих строк кода или перехода к другим.

----

   
### Ход работы.

1. Для начало я скопировал любой текст из интернета.

![LABA12-1.png](https://ic.wampi.ru/2021/05/29/LABA12-1.png)

• Используя команды getopts grep, написал командный файл.

![LABA12-2.png](https://ic.wampi.ru/2021/05/29/LABA12-2.png)

• Данный командный файл анализирует командную строку с ключами: -iinputfile — прочитать данные из указанного файла; -ooutputfile — вывести данные в указанный
файл; -pшаблон — указать шаблон для поиска; -C — различать большие и малые буквы; -n — выдавать номера строк.

![LABA12-3.png](https://ic.wampi.ru/2021/05/29/LABA12-3.png)

• После я написал слово, которую программа ищет в моем тексте, используя ключ -p

![LABA12-4.png](https://ic.wampi.ru/2021/05/29/LABA12-4.png)

2. Написал на языке С++ программу, которая вводит число и определяет, является ли оно больше нуля, меньше нуля или равно нулю. Затем программа завершается с
помощью функции exit(n), передавая информацию о коде завершения в оболочку.

![LABA12-5.png](https://ic.wampi.ru/2021/05/29/LABA12-5.png)

• Командный файл вызывает эту программу и, проанализировав с помощью команды $?, выдает сообщение о том, какое число было введено.

![LABA12-7.png](https://ic.wampi.ru/2021/05/29/LABA12-7.png)

• Проверил свой код.

![LABA12-8.png](https://ic.wampi.ru/2021/05/29/LABA12-8.png)

3. Написал командный файл, создающий указанное число файлов, пронумерованных последовательно от 1 до N (например 1.tmp, 2.tmp, 3.tmp, 4.tmp и т.д.).

![LABA12-9.png](https://ic.wampi.ru/2021/05/29/LABA12-9.png)

• Число файлов, которые необходимо создать, передаётся в аргументы командной строки

![LABA12-10.png](https://ic.wampi.ru/2021/05/29/LABA12-10.png)

![LABA12-11.png](https://ic.wampi.ru/2021/05/29/LABA12-11.png)

• Этот же командный файл удаляет все созданные им файлы (если они существуют).

![LABA12-12.png](https://ic.wampi.ru/2021/05/29/LABA12-12.png)

4. Написал командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории.

![LABA12-16.png](https://ic.wampi.ru/2021/05/29/LABA12-16.png)

• Модифицировал его так, чтобы запаковывались только те файлы, которые были изменены менее месяца тому назад (использовал команду find).

![LABA12-15.png](https://ic.wampi.ru/2021/05/29/LABA12-15.png)


### Вывод:
Изучил основы программирования в оболочке ОС UNIX, научился писать более сложные командные файлы с использованием логических управляющих конструкций и
циклов. 

### Библиография.
http://java-online.ru/java-if-else.xhtml

## Ответы на контрольные вопросы:

1. Команда getopts является встроенной командой командной оболочки bash, предназначенной для разбора параметров сценариев. Она обрабатывает исключительно
однобуквенные параметры как с аргументами, так и без них и этого вполне достаточно для передачи сценариям любых входных данных.
2. При генерации имен используют метасимволы:
• произвольная (возможно пустая) последовательность символов; ? один произвольный символ; [...] любой из символов, указанных в скобках перечислением и/или с
указанием диапазона; cat f* выдаст все файлы каталога, начинающиеся с "f"; cat f выдаст все файлы, содержащие "f"; cat program.? выдаст файлы данного каталога с
однобуквенными расширениями, скажем "program.c" и "program.o", но не выдаст "program.com"; cat [a-d]* выдаст файлы, которые начинаются с "a", "b", "c", "d".
Аналогичный эффект дадут и команды "cat [abcd]" и "cat [bdac]".
3. Операторы && и || являются управляющими операторами. Если в командной строке стоит command1 && command2, то command2 выполняется в том, и только в том
случае, если статус выхода из команды command1 равен нулю, что говорит об успешном ее завершении. Аналогично, если командная строка имеет вид command1 ||
command2, то команда command2 выполняется тогда, и только тогда, когда статус выхода из команды command1 отличен от нуля.
4. Оператор break завершает выполнение ближайшего включающего цикла или условного оператора, в котором он отображается.
5. Команда true всегда возвращает ноль в качестве выходного статуса для индикации успеха. Команда false всегда возвращает не-ноль в качестве выходного статуса для
индикации неудачи. Во всех управляющих конструкциях в качестве логического значения используется код возврата из программы, указанной в качестве условия. Код
возврата 0 – истина, любое другое значение – ложь. Программа true – всегда завершается с кодом 0, false – всегда завершается с кодом 1.
6. Введенная строка означает условие существования файла man$s/$i.$s
7. Цикл While выполняется до тех пор, пока указанное в нем условие истинно. Когда указанное условие становится ложным - цикл завершается. Цикл Until выполняется
до тех пор, пока указанное в нем условие ложно.